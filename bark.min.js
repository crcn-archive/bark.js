(function(){var d=function(i,j){var b=d.resolve(i,j||"/"),a=d.modules[b];if(!a)throw Error("Failed to resolve module "+i+", tried "+b);return(b=d.cache[b])?b.exports:a()};d.paths=[];d.modules={};d.cache={};d.extensions=[".js",".coffee",".json"];d._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0};d.resolve=function(i,j){function b(a){a=c.normalize(a);if(d.modules[a])return a;for(var b=0;b<d.extensions.length;b++){var e=d.extensions[b];if(d.modules[a+e])return a+e}}function a(a){var a=a.replace(/\/+$/,
""),e=c.normalize(a+"/package.json");if(d.modules[e]){var e=d.modules[e](),f=e.browserify;if("object"===typeof f&&f.main){if(e=b(c.resolve(a,f.main)))return e}else if("string"===typeof f){if(e=b(c.resolve(a,f)))return e}else if(e.main&&(e=b(c.resolve(a,e.main))))return e}return b(a+"/index")}j||(j="/");if(d._core[i])return i;var c=d.modules.path(),h=(j=c.resolve("/",j))||"/";if(i.match(/^(?:\.\.?\/|\/)/)){var e=b(c.resolve(h,i))||a(c.resolve(h,i));if(e)return e}a:{for(var e="/"===h?[""]:c.normalize(h).split("/"),
h=[],f=e.length-1;0<=f;f--)if("node_modules"!==e[f]){var g=e.slice(0,f+1).join("/")+"/node_modules";h.push(g)}for(e=0;e<h.length;e++){f=h[e];if(g=b(f+"/"+i)){h=g;break a}if(f=a(f+"/"+i)){h=f;break a}}h=(g=b(i))?g:void 0}if(h)return h;throw Error("Cannot find module '"+i+"'");};d.alias=function(i,j){var b=d.modules.path(),a=null;try{a=d.resolve(i+"/package.json","/")}catch(c){a=d.resolve(i,"/")}for(var b=b.dirname(a),a=(Object.keys||function(a){var c=[],e;for(e in a)c.push(e);return c})(d.modules),
h=0;h<a.length;h++){var e=a[h];e.slice(0,b.length+1)===b+"/"?(e=e.slice(b.length),d.modules[j+e]=d.modules[b+e]):e===b&&(d.modules[j]=d.modules[b])}};var m={},q="undefined"!==typeof window?window:{},n=!1;d.define=function(i,j){!n&&d.modules.__browserify_process&&(m=d.modules.__browserify_process(),n=!0);var b=d._core[i]?"":d.modules.path().dirname(i),a=function(a){var e=d(a,b);if((a=d.cache[d.resolve(a,b)])&&null===a.parent)a.parent=c;return e};a.resolve=function(a){return d.resolve(a,b)};a.modules=
d.modules;a.define=d.define;a.cache=d.cache;var c={id:i,filename:i,exports:{},loaded:!1,parent:null};d.modules[i]=function(){d.cache[i]=c;j.call(c.exports,a,c,c.exports,b,i,m,q);c.loaded=!0;return c.exports}};d.define("path",function(i,d,b,a,c,h){function e(a,c){for(var e=[],b=0;b<a.length;b++)c(a[b],b,a)&&e.push(a[b]);return e}function f(a,c){for(var e=0,b=a.length;0<=b;b--){var f=a[b];"."==f?a.splice(b,1):".."===f?(a.splice(b,1),e++):e&&(a.splice(b,1),e--)}if(c)for(;e--;e)a.unshift("..");return a}
var g=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;b.resolve=function(){for(var a="",c=!1,b=arguments.length;-1<=b&&!c;b--){var g=0<=b?arguments[b]:h.cwd();"string"===typeof g&&g&&(a=g+"/"+a,c="/"===g.charAt(0))}a=f(e(a.split("/"),function(a){return!!a}),!c).join("/");return(c?"/":"")+a||"."};b.normalize=function(a){var c="/"===a.charAt(0),b="/"===a.slice(-1),a=f(e(a.split("/"),function(a){return!!a}),!c).join("/");!a&&!c&&(a=".");a&&b&&(a+="/");return(c?"/":"")+a};b.join=function(){var a=Array.prototype.slice.call(arguments,
0);return b.normalize(e(a,function(a){return a&&"string"===typeof a}).join("/"))};b.dirname=function(a){return(a=g.exec(a)[1]||"")?1===a.length?a:a.substring(0,a.length-1):"."};b.basename=function(a,c){var e=g.exec(a)[2]||"";c&&e.substr(-1*c.length)===c&&(e=e.substr(0,e.length-c.length));return e};b.extname=function(a){return g.exec(a)[3]||""}});d.define("__browserify_process",function(i,d,b,a,c,h){h=d.exports={};h.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(a){return window.setImmediate(a)};
if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var a=[];window.addEventListener("message",function(c){c.source===window&&"browserify-tick"===c.data&&(c.stopPropagation(),0<a.length&&a.shift()())},!0);return function(c){a.push(c);window.postMessage("browserify-tick","*")}}return function(a){setTimeout(a,0)}}();h.title="browser";h.browser=!0;h.env={};h.argv=[];h.binding=function(a){if("evals"===a)return i("vm");throw Error("No such module. (Possibly not yet loaded)");};
var e="/",f;h.cwd=function(){return e};h.chdir=function(a){f||(f=i("path"));e=f.resolve(a,e)}});d.define("/lib/bark.js",function(i,d){var b=i("./notificationBuilder"),a=i("structr");d.exports=a({"override __construct":function(){this._super.apply(this,arguments);this._notificationBuilders={}},create:function(a){return new b("string"==typeof a?this.notification(a):a)},notification:function(a){return this._notificationBuilders[a]},register:function(a,b){this._notificationBuilders[a]||(this._notificationBuilders[a]=
this.create(b),this._register(a));return this._notificationBuilders[a]},_register:function(a){var b=this;if(this[a])throw Error("Notification '"+a+"' already exists.");this[a]=function(e,f){b.notification(a).display(e,f);return b}}})});d.define("/lib/notificationBuilder.js",function(i,d){var b=i("structr"),a=i("./views/template"),c=i("./manager"),h=d.exports=b({__construct:function(a){this.reset(b.copy(a?a._options:{}));this._manager=new c(this)},defaults:function(a){this._options=b.copy(this._options,
a);return this},closable:function(a){this._options.closable=!1===a;return this},options:function(a){this._options=b.copy(a,this._options);return this},reset:function(a){this._options=a||{};this._options.max||(this._options.max=1);!1!==this._options.closable&&(this._options.closable=!0);return this},closeAfterTime:function(a){this._options.closeAfterTime=a;return this},max:function(a){this._options.max=a;return this},layout:function(a){this._options.layout=a;return this},view:function(a){this._options.viewClass=
a;return this},modalClass:function(a){return this.setClass("modal",a)},containerClass:function(a){return this.setClass("container",a)},notificationClass:function(a){return this.setClass("notification",a)},classes:function(a){this._options.classes=a||{};return this},setClass:function(a,c){this._options.classes||(this._options.classes={});this._options.classes[a]=c;return this},on:function(a,c){this._manager.on(a,c);return this},template:function(c){this._options.template=c;return this.view(a)},transitionIn:function(a,
c,b){this._options.transitionIn={from:a||{},to:c||{},easing:b||{}};return this},transitionOut:function(a,c,b){this._options.transitionOut={from:a||{},to:c||{},easing:b||{}};return this},wrap:function(){var a=this;return function(c,b){return a.display(c,b)}},display:function(a,c){this._manager.display(a,c)},clone:function(){return new h(this)}})});d.define("/node_modules/structr/package.json",function(i,d){d.exports={main:"./lib/index.js"}});d.define("/node_modules/structr/lib/index.js",function(d,
j){var b=function(){var a=b.extend.apply(null,arguments);a.structurized||(a=b.ize(a));for(var c in a)a.__construct.prototype[c]=a[c];a.__construct.extend||(a.__construct.extend=function(){return b.apply(null,[a].concat(Array.apply([],arguments)))});return a.__construct};b.copy=function(a,c,h){"boolean"==typeof c&&(h=c,c=void 0);c||(c=a instanceof Array?[]:{});for(var e in a){var f=a[e],g=c[e];!h&&"object"==typeof f&&(!f||f.constructor.prototype==Object.prototype||f instanceof Array)?(g=g&&f instanceof
g.constructor?g:f instanceof Array?[]:{},b.copy(f,g)):g=f;c[e]=g}return c};b.getMethod=function(a,c){return function(){return a[c].apply(a,arguments)}};b.wrap=function(a,c){function b(c){return function(){return c.apply(a,arguments)}}if(a._wrapped)return a;a._wrapped=!0;if(c)return a[c]=b(f[c]),a;for(var e in a){var f=a[e];"function"==typeof f&&(a[e]=b(f))}return a};b.findProperties=function(a,c){var b=[],e;for(e in a){var f=a[e];f&&f[c]&&b.push(e)}return b};b.nArgs=function(a){return(a=a.toString().replace(/\{[\W\S]+\}/g,
"").match(/\w+(?=[,\)])/g))?a.length:0};b.getFuncsByNArgs=function(a,c){return a.__private["overload::"+c]||(a.__private["overload::"+c]={})};b.getOverloadedMethod=function(a,c,h){return b.getFuncsByNArgs(a,c)[h]};b.setOverloadedMethod=function(a,c,h,e){a=b.getFuncsByNArgs(a,c);if(h.overloaded)return a;a[e||b.nArgs(h)]=h;return a};b._mixin={operators:{}};b.mixin=function(a){switch(a.type){case "operator":b._mixin.operators[a.name]=a.factory;break;default:throw Error("Mixin type "+a.type+"does not exist");
}};b.modifiers={_override:function(a,c,h){var e=a.__private&&a.__private[c]||a[c]||function(){},f=e;if(e.overloaded)var g=b.nArgs(h),f=b.getOverloadedMethod(a,c,g);var d=function(){this._super=f;var a=h.apply(this,arguments);delete this._super;return a};d.parent=h;return e.overloaded?b.modifiers._overload(a,c,d,g):d},_explicit:function(a,c,b){var e="__"+c;"object"!=typeof b&&(b={});b.get||(b.get=function(){return this._value});b.set||(b.set=function(a){this._value=a});return function(a){if(arguments.length)this[e]!=
a&&(this._value=this[e],b.set.apply(this,[a]),this[e]=this._value);else{this._value=this[e];var c=b.get.apply(this);delete this._value;return c}}},_implicit:function(a,c,b){a.__private[c]=b;a.__defineGetter__(c,b);a.__defineSetter__(c,b)},_overload:function(a,c,h,e){var f=b.setOverloadedMethod(a,c,h,e),a=function(){if(f[arguments.length])return f[arguments.length].apply(this,arguments);var a=[],c;for(c in f)a.push(c);throw Error("Expected "+a.join(",")+" parameters, got "+arguments.length+".");};
a.overloaded=!0;return a},_abstract:function(a,c){var b=function(){throw Error('"'+c+'" is abstract and must be overridden.');};b.isAbstract=!0;return b}};b.parseProperty=function(a){for(var a=a.split(" "),c=[],h=a.pop(),e=[],f=0,g=a.length;f<g;f++){var d=a[f];"["==d.substr(0,1)?e.push(b.parseMetadata(d)):c.push(d)}return{name:h,modifiers:c,metadata:e}};b.parseMetadata=function(a){for(var c=a.match(/\[(\w+)(\((.*?)\))?\]/),a=String(c[1]).toLowerCase(),c=c[2]||"()",c=2<c.length?c.substr(1,c.length-
2).split(","):[],b={},e=c.length;e--;){var f=c[e].split("=");b[f[0]]=f[1]||!0}return{name:a,params:b}};b.extend=function(){var a={},c=Array.prototype.slice.call(arguments,0),d=c.pop();if(1<c.length)for(var e=0,f=c.length;e<f;e++)var g=c[e],a=b.extend(a,"function"==typeof g?g.prototype:g);else a=c.pop()||a;"function"==typeof a&&(e=a,a=b.copy(a.prototype),a.__construct=e);c={__private:{propertyModifiers:{}}};b.copy(a,c);var f={},i;for(i in d){var g=d[i],j=b.parseProperty(i),k=j.name,p=c.__private.propertyModifiers[k]||
(c.__private.propertyModifiers[k]=[]);if(j.modifiers.length){for(var l={},e=j.modifiers.length;e--;){var m=j.modifiers[e];l["_"+j.modifiers[e]]=1;-1==p.indexOf(m)&&p.push(m)}l._merge&&(g=b.copy(a[k],g));if(l._explicit||l._implicit)g=b.modifiers._explicit(c,k,g);for(var n in b._mixin.operators)l["_"+n]&&(g=b._mixin.operators[n](c,k,g));l._override&&(g=b.modifiers._override(c,k,g));l._abstract&&(g=b.modifiers._abstract(c,k,g));if(l._implicit){b.modifiers._implicit(c,k,g);continue}}for(e=p.length;e--;)g[p[e]]=
!0;f[k]&&(e=c[k],e.overloaded||b.modifiers._overload(c,k,e,void 0),g=b.modifiers._overload(c,k,g,void 0));f[k]=1;c.__private[k]=c[k]=g}c.__construct&&a.__construct&&c.__construct==a.__construct?c.__construct=b.modifiers._override(c,"__construct",function(){this._super.apply(this,arguments)}):c.__construct||(c.__construct=function(){});for(i in a.__construct)a.__construct[i]["static"]&&!c[i]&&(c.__construct[i]=a.__construct[i]);for(k in c){if((g=c[k])&&g["static"])c.__construct[k]=g,delete c[k];f[k]||
g.isAbstract&&g()}return c};b.fh=function(a){a||(a={});a=b.extend({},a);return b.ize(a)};b.ize=function(a){a.structurized=!0;a.getMethod=function(a){return b.getMethod(this,a)};a.extend=function(){return b.extend.apply(null,[this].concat(arguments))};a.copyTo=function(a,d){b.copy(this,a,d)};a.wrap=function(a){return b.wrap(this,a)};return a};j.exports=b});d.define("/lib/views/template.js",function(d,j){j.exports=d("./base").extend({"override __construct":function(b){this._super.apply(this,arguments);
this.options=b;this.template="function"==typeof b.template?b.template:_.template(this.options.template);this.render()},render:function(){this.$el.html(this.template(this.options))}})});d.define("/lib/views/base.js",function(d,j){var b=d("structr"),a=d("events").EventEmitter;j.exports=b(a,{__construct:function(a){this.$el=a.$el;this.parent=a.parent;this.options=a},close:function(){this.emit("close");this.dispose();this.$el.remove()},render:function(){},display:function(){},dispose:function(){this.emit("dispose");
this._events={};this.$el.find("*").unbind()}})});d.define("events",function(d,j,b,a,c,h){h.EventEmitter||(h.EventEmitter=function(){});var d=b.EventEmitter=h.EventEmitter,e="function"===typeof Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};d.prototype.setMaxListeners=function(a){this._events||(this._events={});this._events.maxListeners=a};d.prototype.emit=function(a){if("error"===a&&(!this._events||!this._events.error||e(this._events.error)&&!this._events.error.length)){if(arguments[1]instanceof
Error)throw arguments[1];throw Error("Uncaught, unspecified 'error' event.");}if(!this._events)return!1;var b=this._events[a];if(!b)return!1;if("function"==typeof b){switch(arguments.length){case 1:b.call(this);break;case 2:b.call(this,arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:var c=Array.prototype.slice.call(arguments,1);b.apply(this,c)}return!0}if(e(b)){for(var c=Array.prototype.slice.call(arguments,1),b=b.slice(),d=0,h=b.length;d<h;d++)b[d].apply(this,c);return!0}return!1};
d.prototype.addListener=function(a,b){if("function"!==typeof b)throw Error("addListener only takes instances of Function");this._events||(this._events={});this.emit("newListener",a,b);if(this._events[a])if(e(this._events[a])){if(!this._events[a].warned){var c;if((c=void 0!==this._events.maxListeners?this._events.maxListeners:10)&&0<c&&this._events[a].length>c)this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",
this._events[a].length),console.trace()}this._events[a].push(b)}else this._events[a]=[this._events[a],b];else this._events[a]=b;return this};d.prototype.on=d.prototype.addListener;d.prototype.once=function(a,b){var c=this;c.on(a,function k(){c.removeListener(a,k);b.apply(this,arguments)});return this};d.prototype.removeListener=function(a,b){if("function"!==typeof b)throw Error("removeListener only takes instances of Function");if(!this._events||!this._events[a])return this;var c=this._events[a];
if(e(c)){var d;a:if(c.indexOf)d=c.indexOf(b);else{for(d=0;d<c.length;d++)if(b===c[d])break a;d=-1}if(0>d)return this;c.splice(d,1);0==c.length&&delete this._events[a]}else this._events[a]===b&&delete this._events[a];return this};d.prototype.removeAllListeners=function(a){a&&(this._events&&this._events[a])&&(this._events[a]=null);return this};d.prototype.listeners=function(a){this._events||(this._events={});this._events[a]||(this._events[a]=[]);e(this._events[a])||(this._events[a]=[this._events[a]]);
return this._events[a]}});d.define("/lib/manager.js",function(d,j){var b=d("structr"),a=d("./views/container"),c=d("events").EventEmitter;j.exports=b(c,{__construct:function(a){this._builder=a},display:function(c,e){"string"==typeof c&&(c={message:c});c.onClose=e||function(){};if(!this._container){this._container=new a(this._builder._options);this._container.display();var d=this;this._container.once("close",function(){d._container=null});this._container.on("addChild",function(a){d.emit("openNotification",
a)});this._container.on("removeChild",function(a){d.emit("closeNotification",a)})}var g=b.copy(this._builder._options),g=b.copy(c,g);return this._container.addNotification(g)},_createNotification:function(a){return new Notification(a)}})});d.define("/lib/views/container.js",function(d,j){var b=d("./notification");j.exports=d("./base").extend({"override __construct":function(a){this.max=a.max||1;this.viewClass=a.viewClass;this._children=[];this._queue=[];a.$el=$('<div class="bark-bark" style="pointer-events:none;position:fixed;z-index:99999;width:100%;height:100%;top:0px;left:0px;"><div class="bark-modal" style="position:absolute;left:0px;top:0px;pointer-events:auto"></div><div class="bark-container" style="pointer-events:auto"></div></div>');
this._super(a);this._id=0},addNotification:function(a){this._queue.push(a);this._addNextNotification()},display:function(){$(document.body).prepend(this.$el);this.$container=this.$el.find(".bark-container");this.$modal=this.$el.find(".bark-modal");this.options.classes.modal&&this.$modal.css({width:"100%",height:"100%"}).addClass(this.options.classes.modal);this.options.classes.container&&this.$container.addClass(this.options.classes.container);this.layout();this.transitionIn()},layout:function(){var a=
this.options.layout||{},b={right:a.right,bottom:a.bottom,top:a.top,left:a.left,position:"absolute"};a.center&&(b.position="absolute",b.left="50%",b["text-align"]="center");this.$container.css(b)},_addNextNotification:function(){if(!(~this.max&&this._children.length>=this.max)){var a=this._queue.shift();if(a){var c="bark-notification"+this._id++,d=this,e=$('<div id="'+c+'" class="bark-notification"><div class="bark-inner-container" style="position:relative;"></div></div><div style="clear:both;"></div>');
this.$container.append(e);c={position:"relative","min-width":this.options.layout.width+"px"};this.options.layout.center&&(c.left="-50%",c.display="inline-block");$(e[0]).css(c);a.$el=e.find(".bark-inner-container");this.options.classes.notification&&a.$el.addClass(this.options.classes.notification);var f=new b(a);this._children.push(f);f.render();f.once("close",function(){e.remove();d._children.splice(d._children.indexOf(f),1);d.emit("removeChild",f);d._addNextNotification()});this.emit("addChild",
f)}else this._children.length||this.transitionOut()}},transitionIn:function(){this.$modal.css({opacity:0}).transit({opacity:1},200)},transitionOut:function(){var a=this;this.$modal.transit({opacity:0},500,function(){a.close()})}})});d.define("/lib/views/notification.js",function(d,j){j.exports=d("./base").extend({"override __construct":function(b){b.notification=this;this.view=new b.viewClass(b);this._super.apply(this,arguments)},render:function(){this.view.render();this.transitionIn();var b=this;
this.$el.find("[data-rel='close'],[rel='close'],.close").one("click",function(){var a={},c=$(this).attr("data-name");c&&(a[c]=!0);b.event=a;b.transitionOut()});this.options.closeAfterTime&&setTimeout(function(){b.transitionOut()},this.options.closeAfterTime)},transitionIn:function(){if(this.options.transitionIn){var b=this.options.transitionIn;this.$el.css(b.from).transition(b.to,b.easing.duration,b.easing.type)}},transitionOut:function(b){function a(){c.close()}if(!this._closing){this._closing=!0;
var c=this;c.options.onClose(this.event||{});if(c.options.closable||b){if(!this.options.transitionOut)return a();b=this.options.transitionOut;this.$el.css(b.from).transition(b.to,b.easing.duration||200,b.easing.type,a)}}}})});d.define("/lib/index.js",function(d,j){function b(){return new a}var a=d("./bark");new a;"undefined"!==typeof window&&(window.Bark=b);"undefined"!==typeof j.exports&&(j.exports=b)});d("/lib/index.js")})();
